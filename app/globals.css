@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #171717;
  --accent: #E5CBA4;
  --accent-dark: #C9A882;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-accent: var(--accent);
  --color-accent-dark: var(--accent-dark);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
    --accent: #E5CBA4;
    --accent-dark: #B8966F;
  }
}

html {
  overflow-x: hidden;
  width: 100%;
  /* Set a larger base font size that respects system preferences */
  /* 18px base (vs default 16px) makes text ~12.5% larger */
  /* This scales proportionally with system font size settings */
  font-size: 112.5%; /* 18px when system default is 16px, scales up/down with system settings */
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: var(--font-geist-sans), Arial, Helvetica, sans-serif;
  overflow-x: hidden;
  width: 100%;
  /* Add padding for iOS home indicator at bottom */
  padding-bottom: env(safe-area-inset-bottom, 0px);
}

@layer base {
  /* Typography for reading */
  p {
    @apply leading-relaxed;
  }
  
  /* Better line height for long-form content */
  .prose {
    @apply text-base leading-7;
  }
  
  /* Thank you button animation */
  @keyframes thankPulse {
    0% {
      transform: scale(1);
    }
    50% {
      transform: scale(1.3);
    }
    100% {
      transform: scale(1);
    }
  }
  
  .thank-animate {
    animation: thankPulse 0.3s ease-in-out;
  }
  
  /* Hide scrollbar for mobile horizontal scrolling */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
  
  /* Smooth scrolling for mobile */
  @media (max-width: 640px) {
    * {
      -webkit-overflow-scrolling: touch;
    }
  }
  
  /* Nested curator filter - remove padding to align with other filters */
  .nested-curator-filter > div > button {
    padding-left: 0 !important;
    padding-right: 0 !important;
    padding-top: 0 !important;
    padding-bottom: 0 !important;
    min-height: auto !important;
  }
  
  .nested-curator-filter > div > div {
    padding-left: 0 !important;
    padding-right: 0 !important;
    padding-top: 0.5rem !important;
  }
  
  .nested-curator-filter > div {
    border-bottom: none !important;
    border-top: 1px solid rgb(229 231 235) !important;
    margin-top: 0 !important;
    margin-bottom: 0 !important;
  }
  
  .dark .nested-curator-filter > div {
    border-top-color: rgb(31 41 55) !important;
  }
  
  /* Next.js portal positioning */
  nextjs-portal {
    left: 0px !important;
    top: 0px !important;
  }
  
  /* Range input slider styling - tan colors */
  input[type="range"] {
    -webkit-appearance: none;
    appearance: none;
    background: transparent;
    cursor: pointer;
  }
  
  /* WebKit browsers (Chrome, Safari, Edge) */
  input[type="range"]::-webkit-slider-track {
    background: rgb(229 231 235);
    height: 6px;
    border-radius: 3px;
  }
  
  .dark input[type="range"]::-webkit-slider-track {
    background: rgb(55 65 81);
  }
  
  input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    background: var(--accent);
    height: 18px;
    width: 18px;
    border-radius: 50%;
    border: 2px solid white;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
    cursor: pointer;
  }
  
  .dark input[type="range"]::-webkit-slider-thumb {
    background: var(--accent-dark);
    border-color: rgb(17 24 39);
  }
  
  input[type="range"]::-webkit-slider-thumb:hover {
    background: var(--accent-dark);
  }
  
  .dark input[type="range"]::-webkit-slider-thumb:hover {
    background: var(--accent);
  }
  
  /* Firefox */
  input[type="range"]::-moz-range-track {
    background: rgb(229 231 235);
    height: 6px;
    border-radius: 3px;
    border: none;
  }
  
  .dark input[type="range"]::-moz-range-track {
    background: rgb(55 65 81);
  }
  
  input[type="range"]::-moz-range-thumb {
    background: var(--accent);
    height: 18px;
    width: 18px;
    border-radius: 50%;
    border: 2px solid white;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
    cursor: pointer;
  }
  
  .dark input[type="range"]::-moz-range-thumb {
    background: var(--accent-dark);
    border-color: rgb(17 24 39);
  }
  
  input[type="range"]::-moz-range-thumb:hover {
    background: var(--accent-dark);
  }
  
  .dark input[type="range"]::-moz-range-thumb:hover {
    background: var(--accent);
  }

  /* Accessibility: High Contrast Mode - Pure Black & White */
  .high-contrast {
    --background: #ffffff;
    --foreground: #000000;
    --accent: #000000;
    --accent-dark: #000000;
  }

  .high-contrast.dark {
    --background: #000000;
    --foreground: #ffffff;
    --accent: #ffffff;
    --accent-dark: #ffffff;
  }

  .high-contrast body {
    background: var(--background) !important;
    color: var(--foreground) !important;
  }

  .high-contrast .bg-white,
  .high-contrast .bg-gray-50,
  .high-contrast .bg-gray-100 {
    background: #ffffff !important;
    color: #000000 !important;
  }

  .high-contrast.dark .bg-black,
  .high-contrast.dark .bg-gray-900,
  .high-contrast.dark .bg-gray-800 {
    background: #000000 !important;
    color: #ffffff !important;
  }

  .high-contrast .text-gray-900,
  .high-contrast .text-gray-800,
  .high-contrast .text-gray-700 {
    color: #000000 !important;
  }

  .high-contrast.dark .text-gray-100,
  .high-contrast.dark .text-gray-200,
  .high-contrast.dark .text-gray-300 {
    color: #ffffff !important;
  }

  .high-contrast .border-gray-200,
  .high-contrast .border-gray-300 {
    border-color: #000000 !important;
  }

  .high-contrast.dark .border-gray-700,
  .high-contrast.dark .border-gray-800 {
    border-color: #ffffff !important;
  }

  /* High Contrast: Buttons and Interactive Elements - Pure Black/White */
  /* Light mode: Black buttons with white text (21:1 contrast - maximum) */
  .high-contrast .bg-accent,
  .high-contrast button.bg-accent,
  .high-contrast [class*="bg-accent"] {
    background-color: #000000 !important;
    color: #ffffff !important;
    border: 2px solid #000000 !important;
  }

  .high-contrast .bg-accent:hover,
  .high-contrast button.bg-accent:hover,
  .high-contrast [class*="bg-accent"]:hover {
    background-color: #000000 !important;
    border: 3px solid #000000 !important;
    box-shadow: 0 0 0 2px #ffffff, 0 0 0 4px #000000 !important;
  }

  .high-contrast .bg-accent-dark,
  .high-contrast button.bg-accent-dark {
    background-color: #000000 !important;
    color: #ffffff !important;
    border: 2px solid #000000 !important;
  }

  .high-contrast .bg-accent-dark:hover {
    background-color: #000000 !important;
    border: 3px solid #000000 !important;
    box-shadow: 0 0 0 2px #ffffff, 0 0 0 4px #000000 !important;
  }

  /* Dark mode: White buttons with black text (21:1 contrast - maximum) */
  .high-contrast.dark .bg-accent,
  .high-contrast.dark button.bg-accent,
  .high-contrast.dark [class*="bg-accent"] {
    background-color: #ffffff !important;
    color: #000000 !important;
    border: 2px solid #ffffff !important;
  }

  .high-contrast.dark .bg-accent:hover,
  .high-contrast.dark button.bg-accent:hover,
  .high-contrast.dark [class*="bg-accent"]:hover {
    background-color: #ffffff !important;
    border: 3px solid #ffffff !important;
    box-shadow: 0 0 0 2px #000000, 0 0 0 4px #ffffff !important;
  }

  .high-contrast.dark .bg-accent-dark,
  .high-contrast.dark button.bg-accent-dark {
    background-color: #ffffff !important;
    color: #000000 !important;
    border: 2px solid #ffffff !important;
  }

  .high-contrast.dark .bg-accent-dark:hover {
    background-color: #ffffff !important;
    border: 3px solid #ffffff !important;
    box-shadow: 0 0 0 2px #000000, 0 0 0 4px #ffffff !important;
  }

  /* High Contrast: Text colors - Pure Black/White */
  .high-contrast .text-accent,
  .high-contrast [class*="text-accent"] {
    color: #000000 !important;
  }

  .high-contrast.dark .text-accent,
  .high-contrast.dark [class*="text-accent"] {
    color: #ffffff !important;
  }

  .high-contrast .text-accent-dark {
    color: #000000 !important;
  }

  .high-contrast.dark .text-accent-dark {
    color: #ffffff !important;
  }

  /* High Contrast: Border colors - Pure Black/White */
  .high-contrast .border-accent,
  .high-contrast [class*="border-accent"] {
    border-color: #000000 !important;
  }

  .high-contrast.dark .border-accent,
  .high-contrast.dark [class*="border-accent"] {
    border-color: #ffffff !important;
  }

  .high-contrast .border-accent-dark {
    border-color: #000000 !important;
  }

  .high-contrast.dark .border-accent-dark {
    border-color: #ffffff !important;
  }

  /* High Contrast: Links - Underlined for visibility */
  .high-contrast a {
    color: #000000 !important;
    text-decoration: underline !important;
  }

  .high-contrast a:hover,
  .high-contrast a:focus {
    color: #000000 !important;
    text-decoration: underline !important;
    outline: 2px solid #000000 !important;
    outline-offset: 2px !important;
  }

  .high-contrast.dark a {
    color: #ffffff !important;
    text-decoration: underline !important;
  }

  .high-contrast.dark a:hover,
  .high-contrast.dark a:focus {
    color: #ffffff !important;
    text-decoration: underline !important;
    outline: 2px solid #ffffff !important;
    outline-offset: 2px !important;
  }

  /* High Contrast: Input fields and form controls */
  .high-contrast input[type="text"],
  .high-contrast input[type="email"],
  .high-contrast input[type="password"],
  .high-contrast input[type="number"],
  .high-contrast input[type="search"],
  .high-contrast textarea,
  .high-contrast select {
    background-color: #ffffff !important;
    color: #000000 !important;
    border: 2px solid #000000 !important;
  }

  .high-contrast input[type="text"]:focus,
  .high-contrast input[type="email"]:focus,
  .high-contrast input[type="password"]:focus,
  .high-contrast input[type="number"]:focus,
  .high-contrast input[type="search"]:focus,
  .high-contrast textarea:focus,
  .high-contrast select:focus {
    border-color: #000000 !important;
    outline: 3px solid #000000 !important;
    outline-offset: 2px !important;
  }

  .high-contrast.dark input[type="text"],
  .high-contrast.dark input[type="email"],
  .high-contrast.dark input[type="password"],
  .high-contrast.dark input[type="number"],
  .high-contrast.dark input[type="search"],
  .high-contrast.dark textarea,
  .high-contrast.dark select {
    background-color: #000000 !important;
    color: #ffffff !important;
    border: 2px solid #ffffff !important;
  }

  .high-contrast.dark input[type="text"]:focus,
  .high-contrast.dark input[type="email"]:focus,
  .high-contrast.dark input[type="password"]:focus,
  .high-contrast.dark input[type="number"]:focus,
  .high-contrast.dark input[type="search"]:focus,
  .high-contrast.dark textarea:focus,
  .high-contrast.dark select:focus {
    border-color: #ffffff !important;
    outline: 3px solid #ffffff !important;
    outline-offset: 2px !important;
  }

  /* High Contrast: Range sliders - Pure Black/White */
  .high-contrast input[type="range"]::-webkit-slider-thumb {
    background: #000000 !important;
    border: 2px solid #ffffff !important;
  }

  .high-contrast input[type="range"]::-moz-range-thumb {
    background: #000000 !important;
    border: 2px solid #ffffff !important;
  }

  .high-contrast.dark input[type="range"]::-webkit-slider-thumb {
    background: #ffffff !important;
    border: 2px solid #000000 !important;
  }

  .high-contrast.dark input[type="range"]::-moz-range-thumb {
    background: #ffffff !important;
    border: 2px solid #000000 !important;
  }

  /* Accessibility: Font Size Classes */
  .font-size-small {
    font-size: 87.5% !important; /* 0.875x */
  }

  .font-size-medium {
    font-size: 100% !important; /* 1x - default */
  }

  .font-size-large {
    font-size: 125% !important; /* 1.25x */
  }

  .font-size-extra-large {
    font-size: 150% !important; /* 1.5x */
  }

  /* Accessibility: Enhanced Focus Indicators - Pure Black/White */
  .enhanced-focus *:focus-visible {
    outline: 4px solid #000000 !important;
    outline-offset: 2px !important;
  }

  .enhanced-focus.dark *:focus-visible {
    outline: 4px solid #ffffff !important;
    outline-offset: 2px !important;
  }

  .enhanced-focus button:focus-visible,
  .enhanced-focus a:focus-visible,
  .enhanced-focus input:focus-visible,
  .enhanced-focus textarea:focus-visible,
  .enhanced-focus select:focus-visible {
    outline: 4px solid #000000 !important;
    outline-offset: 2px !important;
  }

  .enhanced-focus.dark button:focus-visible,
  .enhanced-focus.dark a:focus-visible,
  .enhanced-focus.dark input:focus-visible,
  .enhanced-focus.dark textarea:focus-visible,
  .enhanced-focus.dark select:focus-visible {
    outline: 4px solid #ffffff !important;
    outline-offset: 2px !important;
  }

  /* Ensure focus is visible even when high contrast is enabled */
  .high-contrast.enhanced-focus *:focus-visible {
    outline: 4px solid #000000 !important;
    outline-offset: 2px !important;
  }

  .high-contrast.dark.enhanced-focus *:focus-visible {
    outline: 4px solid #ffffff !important;
    outline-offset: 2px !important;
  }

  /* Accessibility: Skip Links */
  .skip-links {
    position: absolute;
    top: 0;
    left: 0;
    z-index: 10000;
  }

  .skip-link {
    position: absolute;
    top: -100px;
    left: 0;
    background: #000000;
    color: #ffffff;
    padding: 12px 24px;
    text-decoration: none;
    font-weight: 600;
    z-index: 10001;
    border: 2px solid #ffffff;
    transition: top 0.2s ease;
  }

  .skip-link:focus {
    top: 0;
    outline: 4px solid #ffffff;
    outline-offset: 2px;
  }

  .dark .skip-link {
    background: #ffffff;
    color: #000000;
    border-color: #000000;
  }

  .dark .skip-link:focus {
    outline: 4px solid #000000;
  }

  .high-contrast .skip-link {
    background: #000000;
    color: #ffffff;
    border-color: #ffffff;
  }

  .high-contrast.dark .skip-link {
    background: #ffffff;
    color: #000000;
    border-color: #000000;
  }
}
